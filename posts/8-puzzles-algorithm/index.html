<!DOCTYPE html>
<html >
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="author" content="XFeiF">
		<meta name="description" content="XFeiFçš„ç‹¬ç«‹åšå®¢">
		<meta name="generator" content="Hugo 0.53" />
		<title>8-puzzles algorithm &middot; </title>
		<link rel="shortcut icon" href="https://blog.x-fei.me/images/favicon.ico">
		<link rel="stylesheet" href="https://blog.x-fei.me/css/style.css">
		
		
		
		

		

		
		<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
		<link href="https://cdn.bootcss.com/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">
		<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
		<script>hljs.initHighlightingOnLoad();</script>
		<script type="text/javascript"
        async
        src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[\[','\]\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});

MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<style>
code.has-jax {
    font: inherit;
    font-size: 100%;
    background: inherit;
    border: inherit;
    color: #515151;
}
</style>

	</head>

<script src="https://cdn.bootcss.com/jquery/1.8.3/jquery.js"></script>
<script src="https://cdn.bootcss.com/jquery.imagesloaded/2.1.0/jquery.imagesloaded.js"></script>
<script src="https://cdn.bootcss.com/masonry/4.2.2/masonry.pkgd.min.js"></script>
<script src="https://cdn.bootcss.com/bigfoot/2.1.4/bigfoot.min.js"></script>
<link href="https://cdn.bootcss.com/bigfoot/2.1.4/bigfoot-default.min.css" rel="stylesheet">


<body>
    <div class="nav-header nav-header-fixed animated">
    <a href="https://blog.x-fei.me/" class="left swing">
        <img src="https://blog.x-fei.me/images/Feiaaa.png" alt="" class="icon rounded">
    </a>
</div>




<header id="header" class="blog-background banner-mask lazy no-cover"
style="display: table; background-image: url(/bg/8-puzzles.png);">
    <div class="header-wrap site-nav">
    <div class="home-info-container">
        <a href="https://blog.x-fei.me/">
            <h2>å‡¡é—´ Â· è§’è½</h2>
        </a>
    </div>
    <div class="nav-header-container">
        <ul class="links">
            <li class="nav-blog">
                <a href='https://blog.x-fei.me/'> Home</a>
            </li>
            <li>
                <a href='https://blog.x-fei.me/archives'>Archives</a>
            </li>
            <li>
                <a href='https://blog.x-fei.me/timelines'>Timelines</a>
            </li>
            <li>
                <a href='https://blog.x-fei.me/friends'>Friends</a>
            </li>
            <li>
                <a href='https://blog.x-fei.me/about'>About</a>
            </li>
        </ul>


    	

    	
    </div>
</div>

</header>




    <div id="main">
        <article class="page-template page-index container-wrapper">
            <div class="post-card">
                <div class="post-container">
                    <div class="post-header">
                        <div class="meta">
                            <h1 id="post-title">8-puzzles algorithm</h1>
                            
                            
                                <time datetime="2018-10-20">Oct 20, 2018</time>
                            
                            <span class="categories">
                                 on 
    
        <a class="badge badge-primary" href="/categories/machine-learning">Machine Learning</a>
    


                            </span> - 4 min read.

                        </div>
                    </div>
                    <div class="post-content">
                        <div id="toc" class="">

                        </div>
                        <div class="inner-content">
                            <p><center>AIMA: 8-puzzles</center></p>

<h2 id="é¢˜ç›®æè¿°">é¢˜ç›®æè¿°</h2>

<p><strong>8-puzzle problem</strong><br />
Given any randomly generated start state and a goal state shown below, implement the IDS, greedy search and A* search algorithms, respectively, to find a sequence of actions that will transform the state from the start state to the goal state.</p>

<p><strong>topics</strong>: <code>DFS</code>, <code>IDS</code>, <code>A*</code>, <code>Greedy</code>, <code>Informed Search</code> <sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a> </sup></p>

<h2 id="è¦æ±‚">è¦æ±‚</h2>

<pre>
1) When implementing the A* search algorithm, you need to use at least two different
heuristic functions
2) Compare the running time of these different searching algorithms, and do some
analyses on your obtained results. Note that the reported running time should be
averaged on many randomly generate different start states.
</pre>  

<h2 id="é—®é¢˜è§£æ">é—®é¢˜è§£æ</h2>

<h3 id="æ˜¯å¦æœ‰è§£">æ˜¯å¦æœ‰è§£</h3>

<p>é¦–å…ˆå¯¹äºå…«æ•°ç é—®é¢˜ï¼Œå­˜åœ¨æœ‰è§£å’Œæ— è§£çš„æƒ…å†µï¼Œä¸ºäº†ä½¿å¾—æˆ‘ä»¬åç»­çš„ç¨‹åºèƒ½æ­£å¸¸æµ‹è¯•ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ç»™å®šçš„éšæœºåˆå§‹çŠ¶æ€è¿›è¡Œæ£€æµ‹ï¼Œä»è€Œå¾—åˆ°ä¸€å®šæœ‰è§£çš„éšæœºåˆå§‹çŠ¶æ€ã€‚<br />
æ ¹æ®ç»´åŸºç™¾ç§‘ï¼Œå¦‚æœç»™å®šåˆå§‹çŠ¶æ€çš„é€†åºå’Œä¸ºå¶æ•°ï¼Œé‚£ä¹ˆé—®é¢˜æœ‰è§£ï¼Œå¦åˆ™æ— è§£ã€‚</p>

<p>ç”Ÿæˆæœ‰è§£çš„éšæœºåˆå§‹çŠ¶æ€æœ‰ä¸¤ç§åšæ³•ã€‚ä¸€æ˜¯ç”Ÿæˆéšæœºçš„çŠ¶æ€ï¼Œæ£€æµ‹æ˜¯å¦æœ‰è§£ï¼Œæ— è§£åˆ™ç»§ç»­ç”Ÿæˆï¼Œç›´åˆ°ç”Ÿæˆæœ‰è§£çš„çŠ¶æ€å¹¶è¿”å›ã€‚äºŒæ˜¯é€†åºæ¨å¯¼ï¼Œä»ç›®æ ‡çŠ¶æ€å‡ºå‘ï¼Œéšæœºé€‰æ‹©æ–¹å‘èµ°è‹¥å¹²æ­¥å¾—åˆ°éšæœºçŠ¶æ€ã€‚</p>

<p>è¿™é‡Œæˆ‘ä»¬ä¸ºäº†æ–¹ä¾¿ï¼Œå°†ç©ºç™½æ ¼ç”¨æ•°å­—0è¡¨ç¤ºã€‚</p>

<p>ä¸¤ç§åšæ³•çš„ä»£ç å¦‚ä¸‹ï¼š</p>

<pre><code class="language-py"># Solution 1: genRandomState-&gt;check-&gt;genRandomState....
def genRandomState():
    puzzle = [x for x in range(9)]
    random.shuffle(puzzle)
    puzzle = np.asarray(puzzle).reshape((3,3))
    return puzzle
# getInvCount
def getInvCount(state):
    state = state.flatten()
    int_count = 0
    for i in range(8):
        for j in range(i+1, 9):
            if state[j] and state[i] and state[i] &gt; state[j]:
                int_count += 1
    return int_count
# judge
def isSolvable(state):
    invCount = getInvCount(state)
    return invCount % 2 == 0:

def genSolvableRandomState():
    puzzle = genRandomState()
    if isSolvable(puzzle):
        return puzzle
    else:
        return genSolvableRandomState()

# Solution 2: targetState-&gt;randomWalk-&gt;randomState  
def shuffle(self, numAct):
    for i in range(numAct):
        self.move(self.directions[random.randint(0, 3)])

def move(self, direction):
    if direction == 'U':
        self.up()
    if direction == 'D':
        self.down()
    if direction == 'L':
        self.left()
    if direction == 'R':
        self.right()
</code></pre>

<p><strong>æ€è€ƒ</strong>ï¼š<br />
ç¬¬äºŒç§åšæ³•é‡Œï¼Œæˆ‘ä»¬éœ€è¦å¯¹çŠ¶æ€åšä¸€äº›å˜åŒ–ï¼Œä»å½“å‰çŠ¶æ€åˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€ï¼Œéœ€è¦åˆ¤æ–­å¯ä»¥èµ°çš„æ–¹å‘ï¼Œå¹¶æ›´æ–°0ç‚¹çš„ä½ç½®ï¼Œéƒ½æ˜¯ä¸€äº›å¯ä»¥é‡å¤å¹¶é«˜åº¦èšåˆçš„æ–¹æ³•ï¼Œå› æ­¤å¯ä»¥å°†è¿™äº›æ“ä½œéƒ½å°è£…åˆ°<code>Puzzle</code>ç±»ä¸­ã€‚</p>

<h3 id="ids">IDS</h3>

<p>IDSç®—æ³•çš„ä¼ªä»£ç å¦‚ä¸‹ï¼š<br />
<div align=center>
<img src="/images/IDS.png" width="60%" alt="IDS">
</div></p>

<p>IDS(<code>Iterative deepening search</code>)çš„æ ¸å¿ƒåœ¨äºï¼Œä½¿ç”¨è¿­ä»£æ·±åº¦é™åˆ¶æ·±åº¦æœç´¢ï¼Œä½¿å¾—æ¯æ¬¡åªæœç´¢åˆ°æŒ‡å®šçš„æ·±åº¦ã€‚å› æ­¤ä¹Ÿéœ€è¦å¯¹<code>DFS</code>æœ‰è¾ƒæ·±çš„ç†è§£ã€‚<br />
è¿™æ ·åšè™½ç„¶ä¼šä½¿å¾—é«˜å±‚çš„èŠ‚ç‚¹è¢«åå¤è®¿é—®å¤šæ¬¡ï¼Œä½†æ˜¯å¯ä»¥æ¨å¯¼å‡ºï¼Œæœ€åº•å±‚çš„èŠ‚ç‚¹æ•°æ˜¯æœ€å¤šçš„ï¼Œå°†é—®é¢˜ç®€åŒ–ä¸ºäºŒå‰æ ‘ï¼Œé‚£ä¹ˆæœ€åº•å±‚æœ‰æ€»ä½“ä¸€åŠçš„èŠ‚ç‚¹ï¼ŒåŒæ—¶æˆ‘ä»¬éœ€è¦å‰åºèŠ‚ç‚¹çš„ä¿¡æ¯å»è®¿é—®åç»­èŠ‚ç‚¹ï¼Œå› æ­¤åœ¨æ·±åº¦è¾ƒæ·±çš„æ—¶å€™ï¼Œå‰é¢åå¤è®¿é—®çš„æ—¶é—´å¯ä»¥ä¸ç”¨å»ç®¡ã€‚<br />
<code>Depth-Limited-Search</code>åŸºäº<code>DFS</code>ï¼Œ<code>DFS</code>çš„ä¼ªä»£ç å¦‚ä¸‹ï¼š<br />
<div align=center>
<img src="/images/DFS.png" width="60%" alt="DFS">
</div></p>

<p><strong>æ€è€ƒ</strong>ï¼š
è¿™é‡Œæˆ‘ä»¬éœ€è¦ç»´æŠ¤çš„ä¿¡æ¯æ˜¯æ·±åº¦ä¿¡æ¯ï¼Œè€Œä¸”ç”±äºå½“å‰çŠ¶æ€å¯èƒ½çš„å­èŠ‚ç‚¹æœ€å¤šæœ‰å››ä¸ªï¼Œæ‰€ä»¥å­èŠ‚ç‚¹çš„ä¿¡æ¯æœ€å¥½å’Œçˆ¶èŠ‚ç‚¹ç»‘å®šï¼Œæ‰€ä»¥åœ¨è®¾è®¡<code>Puzzle</code>ç±»çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç»‘å®šçˆ¶èŠ‚ç‚¹<code>parent</code>ï¼Œè®¡ç®—ä¸åˆ¤æ–­å½“å‰èŠ‚ç‚¹çš„æ·±åº¦ä¹Ÿç›¸å¯¹æ–¹ä¾¿ã€‚<br />
åœ¨IDSä¸­ï¼Œæˆ‘ä»¬æ›´å¤šçš„éœ€è¦å¯¹<code>èŠ‚ç‚¹</code>è¿›è¡Œæ“ä½œï¼Œè€Œä¸æ˜¯ç›´æ¥å¯¹<code>Puzzle</code>æ“ä½œï¼Œæ‰€ä»¥å¯ä»¥å°è¯•æ„å»º<code>Node</code>ç±»ï¼Œç®€åŒ–ä»£ç é€»è¾‘ã€‚</p>

<p>IDSå®ç°ä»£ç å¦‚ä¸‹ï¼š</p>

<pre><code class="language-py">def IDS(self):
    depth = 0
    result = None
    while result == None:
        result = self.depthLimited(depth)
        depth += 1
    return result

def depthLimited(self, depth):
    stack = LifoQueue()
    stack.put(self.start)
    while True:
        if stack.empty():
            return None
        top = stack.get()
        if top.isGoal():
            return top
        elif top.depth is not depth:
            for neighbor in top.neighbors():
                stack.put(neighbor)
</code></pre>

<h3 id="uninformed-v-s-informed-search">Uninformed v.s. Informed search</h3>

<p><code>Uninformed Search</code>ï¼Œä¸çŸ¥æƒ…æœç´¢ï¼Œæ— å…ˆéªŒçŸ¥è¯†çš„æœç´¢ï¼Œé€šä¿—ä¸€ç‚¹ç†è§£å°±æ˜¯æ‘¸ç€çŸ³å¤´è¿‡æ²³ï¼ŒæŠŠæ‰€æœ‰å¯èƒ½çš„è·¯éƒ½èµ°ä¸€éã€‚ä¸ªäººç†è§£ï¼Œä¸åŒä¹‹å¤„å°±åœ¨äºèµ°çš„é¡ºåºæ˜¯å…¨éšæœºï¼Œè¿˜æ˜¯åŠéšæœºï¼Œå¯¹äºDFSå’ŒBFSï¼Œå¯ä»¥å½’ç±»ä¸ºå…¨éšæœºï¼Œè€ŒIDSå¯ä»¥ç®—åŠéšæœºã€‚<br />
<code>Uninformed Search</code>ï¼Œå…ˆéªŒæœç´¢ï¼Œå¯å‘å¼æœç´¢ï¼Œåƒæ˜¯æœ‰äº†ä¸€æŠŠè‡ªå·±å®šä¹‰çš„å°ºå­ï¼Œå¯ä»¥è¡¡é‡æŸä¸€çŠ¶æ€åˆ°ç›®æ ‡çŠ¶æ€çš„è·ç¦»ï¼Œé€šè¿‡è¿™ä¸ªå…ˆéªŒçŸ¥è¯†å»ç¡®å®šä¸‹ä¸€ä¸ªæœ€æ¥è¿‘ç›®æ ‡çŠ¶æ€çš„ä¸­é—´çŠ¶æ€ã€‚</p>

<h3 id="greedy">Greedy</h3>

<p>å¯¹ä¸­é—´çŠ¶æ€çš„é€‰æ‹©å–å†³äºå…¶åˆ°ç›®æ ‡çŠ¶æ€çš„â€œè·ç¦»â€ï¼Œè¿™ä¸ªè·ç¦»å¯ä»¥æœ‰ä¸åŒçš„è¡¡é‡æ ‡å‡†ã€‚è´ªå¿ƒç®—æ³•åŸºäºâ€œè·ç¦»â€ï¼Œé€šè¿‡ç»´æŠ¤ä¸€ä¸ªä¼˜å…ˆé˜Ÿåˆ—ï¼Œæ¯æ¬¡é€‰æ‹©è·ç¦»ç›®æ ‡çŠ¶æ€æœ€è¿‘çš„ä¸­é—´çŠ¶æ€å»æ‰©å±•ã€‚ä¸ºäº†é¿å…é™·å…¥æ­»å¾ªç¯ï¼Œç»´æŠ¤<code>visited</code>æ•°ç»„ã€‚<br />
è´ªå¿ƒç®—æ³•çš„å®ç°å¦‚ä¸‹ï¼š</p>

<pre><code class="language-py">def greedy(self, heuristic_mode):
    cur_node = self.start
    nodes = PriorityQueue()
    nodes.put((cur_node.cost(heuristic_mode), cur_node))
    visited = []
    while True:
        if nodes.empty():
            return None
        cur_node = nodes.get()[1]
        if cur_node.isGoal():
            return cur_node
        elif cur_node.state.puzzle not in visited:
            visited.append(cur_node.state.puzzle)
            for neighbor in cur_node.neighbors():
                nodes.put((neighbor.cost(heuristic_mode), neighbor))
</code></pre>

<h3 id="a">A*</h3>

<p>å¯å‘å¼å‡½æ•°<code>h(n)</code>å‘Šè¯‰<code>A*</code>ä»ä»»ä½•ç»“ç‚¹nåˆ°ç›®æ ‡ç»“ç‚¹çš„æœ€å°ä»£ä»·è¯„ä¼°å€¼ã€‚å› æ­¤é€‰æ‹©ä¸€ä¸ªå¥½çš„å¯å‘å¼å‡½æ•°å¾ˆé‡è¦ã€‚<br />
<code>A*</code> è®¡ç®—<code>f(n) = g(n) + h(n)</code>ã€‚ä¸ºäº†å°†ä¸¤ä¸ªå€¼ç›¸åŠ ï¼Œè¿™ä¸¤ä¸ªå€¼å¿…é¡»ä½¿ç”¨ç›¸åŒçš„å•ä½å»åº¦é‡ã€‚å¦‚æœåº¦é‡<code>g(n)</code>çš„å•ä½æ˜¯å°æ—¶ï¼Œè¡¡é‡<code>h(n)</code>çš„å•ä½æ˜¯ç±³ï¼Œåˆ™<code>A*</code>å°†è®¤ä¸ºgæˆ–hå¤ªå¤§æˆ–å¤ªå°ï¼Œå› æ­¤ï¼Œè¦ä¹ˆæ— æ³•å¾—åˆ°å¥½çš„è·¯å¾„ï¼Œè¦ä¹ˆ<code>A*</code>çš„è¿è¡Œé€Ÿåº¦ä¼šæ›´æ…¢ã€‚<br />
<code>A*</code>ç®—æ³•çš„ä¼ªä»£ç å¦‚ä¸‹ï¼š<br />
<div align=center>
<img src="/images/aStar.png" width="60%" alt="A*">
</div></p>

<p><code>A*</code>ç®—æ³•å®ç°å¦‚ä¸‹ï¼š</p>

<pre><code class="language-py">def aStar(self, heuristic_mode):
    cur_node = self.start
    nodes = PriorityQueue()
    nodes.put((cur_node.cost(heuristic_mode), cur_node))
    visited = []
    while True:
        if nodes.empty():
            return None
        cur_node = nodes.get()[1]
        if cur_node.isGoal():
            return cur_node
        elif cur_node.state.puzzle not in visited:
            visited.append(cur_node.state.puzzle)
            for neighbor in cur_node.neighbors():
                nodes.put((neighbor.cost(heuristic_mode) + neighbor.depth, neighbor))
</code></pre>

<h3 id="å¯å‘å¼å‡½æ•°">å¯å‘å¼å‡½æ•°</h3>

<p>é’ˆå¯¹å…«æ•°ç é—®é¢˜ï¼Œè€ƒè™‘ä¸¤ä¸ªç›¸å¯¹é—´çš„çš„å¯å‘å¼å‡½æ•°ï¼š<br />
1. <code>wrongPlace</code>ï¼Œæ‘†æ”¾ä½ç½®é”™ä½çš„æ•°å­—ä¸ªæ•°ã€‚<br />
2. <code>distance_manhattan</code>ï¼Œæ›¼å“ˆé¡¿è·ç¦»ï¼Œè®¡ç®—å…ƒç´ å½“å‰ä½ç½®åˆ°ç›®æ ‡ä½ç½®çš„æ›¼å“ˆé¡¿è·ç¦»ä¹‹å’Œã€‚</p>

<p>ä¸¤ä¸ªå¯å‘å¼å‡½æ•°çš„ä»£ç å¦‚ä¸‹ï¼š</p>

<pre><code class="language-py">def cost(self, heuristic_mode):
    return self.placeWrong() if heuristic_mode == 0 else self.distance_manhattan()

def placeWrong(self):
    errors = 0
    count = 1
    all = self.state.order ** 2
    for i in range(self.state.order):
        for j in range(self.state.order):
            if self.state.puzzle[i][j] != count % all:
                errors += 1
            count += 1
    return errors

def distance_manhattan(self):
    res = 0
    for i in range(self.state.order):
        for j in range(self.state.order):
            index = self.state.puzzle[i][j] - 1
            dis = 0 if index == -1 else abs(i - int(index/self.state.order)) + abs(j - int(index % self.state.order))
            res += dis
    return res
</code></pre>

<h2 id="ä»£ç ">ä»£ç </h2>

<h3 id="puzzle-node">Puzzle, Node</h3>

<p>ä¸Šæ–‡çš„ä¸¤æ®µæ€è€ƒæåˆ°ï¼Œé¦–å…ˆéœ€è¦å°†<code>Puzzle</code>çš„ç”Ÿæˆã€ç§»åŠ¨ã€æ·±åº¦ç­‰æ–¹æ³•æˆ–å±æ€§é›†æˆï¼›æ¥ç€ï¼Œæˆ‘ä»¬çš„ç®—æ³•æ“ä½œçš„éƒ½æ˜¯çŠ¶æ€èŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯çŠ¶æ€æœ¬èº«ï¼Œä¸ºäº†æ–¹ä¾¿å¯¹<code>Puzzle</code>è¿›è¡Œå †æ ˆã€é˜Ÿåˆ—æ“ä½œï¼ŒåŒæ—¶åˆ†ç¦»äºŒè€…æœ‰åŠ©äºæˆ‘ä»¬åç»­æ·»åŠ ç®—æ³•ï¼Œå› æ­¤å†æ„å»º<code>Node</code>ç±»ï¼Œå¹¶å°†å¯å‘å¼å‡½æ•°å½’ä¸ºæœ¬ç±»ã€‚</p>

<h3 id="solution">Solution</h3>

<p>åœ¨<code>solution.py</code>ä¸­ï¼Œé›†æˆäº†é—®é¢˜æ±‚è§£çš„å‡ ä¸ªç®—æ³•ã€‚</p>

<h3 id="others">Others</h3>

<p>åœ¨<code>misc.py</code>ä¸­ï¼Œè®¾è®¡äº†ä¸¤ä¸ªå‡½æ•°è®¡ç®—éšæœºç”ŸæˆçŠ¶æ€çš„é€†åºå’Œï¼Œä»¥åŠåˆ¤æ–­æ˜¯å¦å¯è§£ã€‚<br />
æœ€ç»ˆæµ‹è¯•ç»“æœåœ¨<code>AIMA_HW1_Test.ipynb</code>æ–‡ä»¶ä¸­ã€‚</p>

<h2 id="ç»“æœåˆ†æ">ç»“æœåˆ†æ</h2>

<p>ç”Ÿæˆ30ä¸ªéšæœºåˆå§‹çŠ¶æ€ã€‚</p>

<pre><code class="language-py">order = 3
steps = 30
puzzles = []
for i in range(30):
    t = puzzle.Puzzle(order)
    t.shuffle(steps)
    puzzles.append(t)
</code></pre>

<p>ç”Ÿæˆçš„éšæœºåˆå§‹çŠ¶æ€å¦‚ä¸‹ï¼š<br />
<pre>
1 0 2       2 3 6       1 2 3       1 3 0
7 6 3       1 4 0       4 8 5       5 2 6
5 4 8       7 5 8       7 6 0       4 7 8</p>

<p>1 8 2       2 5 3       1 3 5       1 3 6
5 4 3       4 1 0       4 2 0       4 0 8
0 7 6       7 8 6       7 8 6       7 2 5</p>

<p>0 2 3       1 5 2       1 5 2       4 1 2
1 5 6       0 4 3       3 7 6       5 3 0
4 7 8       7 8 6       4 0 8       7 8 6</p>

<p>2 4 3       1 0 5       1 2 3       1 2 3
0 7 5       4 3 2       7 4 6       4 0 6
8 1 6       7 8 6       0 5 8       7 5 8</p>

<p>&hellip;
</pre></p>

<p>æ‰§è¡Œä¸åŒæœç´¢ç®—æ³•ï¼Œå¹¶è®°å½•å¹³å‡æ‰§è¡Œæ—¶é—´ï¼š</p>

<pre><code class="language-py"># 0: Greedy with wrongplace cost
# 1: Greedy with manhattan cost
# 2: A* with wrongplace cost
# 3: A* with manhattan cost
# 4: IDS
def eval(puzzles, algos):
    timeuse = []
    for i in algos:
        start = time.time()
        if i == 4:
            print(&quot;-------------------IDS------------------------&quot;)
            for t in puzzles:
#                 t.toString()
                s = solution.Solution(t)
                print(&quot;Routes:&quot;, s.IDS())
        elif i == 0:
            print(&quot;----------Greedy heuristic wrongPlace----------------&quot;)
            for t in puzzles:
#                 t.toString()
                s = solution.Solution(t)
                print(&quot;Routes:&quot;, s.greedy(0))
        elif i == 1:
            print(&quot;----------Greedy heuristic manhattan----------------&quot;)
            for t in puzzles:
#                 t.toString()
                s = solution.Solution(t)
                print(&quot;Routes:&quot;, s.greedy(1))
        elif i == 2:
            print(&quot;-------------A* heuristic wrongPlace----------------&quot;)
            for t in puzzles:
#                 t.toString()
                s = solution.Solution(t)
                print(&quot;Routes:&quot;, s.aStar(0))
        elif i == 3:
            print(&quot;-------------A* heuristic manhattan-----------------&quot;)
            for t in puzzles:
#                 t.toString()
                s = solution.Solution(t)
                print(&quot;Routes:&quot;, s.aStar(1))

        print(&quot;--------------------Time------------------------------&quot;)
        during = time.time() - start
        timeuse.append(during)
        print(during/len(puzzles))
        print(&quot;----------------------------------------------------------&quot;)
    return timeuse

timeuse = eval(puzzles, [4, 0, 1, 2, 3])
print(timeuse)
</code></pre>

<h3 id="æ‰§è¡Œç»“æœ">æ‰§è¡Œç»“æœ</h3>

<p><strong>IDSæ‰§è¡Œç»“æœ</strong><br />
<div align=center>
<img src="/images/IDS_run.png" width="60%" alt="IDS_run">
</div></p>

<p><strong>Greedy, wrongPlaceæ‰§è¡Œç»“æœ</strong><br />
<div align=center>
<img src="/images/Greedy_run1.png" width="60%" alt="Greedy_wrongPlace">
</div></p>

<p><strong>Greedy, manhattanæ‰§è¡Œç»“æœ</strong><br />
<div align=center>
<img src="/images/Greedy_run2.png" width="60%" alt="Greedy_manhattan">
</div></p>

<p><strong>AStar, wrongPlaceæ‰§è¡Œç»“æœ</strong><br />
<div align=center>
<img src="/images/AStar_run1.png" width="60%" alt="AStar_wrongPlace">
</div></p>

<p><strong>AStar, manhattanæ‰§è¡Œç»“æœ</strong><br />
<div align=center>
<img src="/images/AStar_run2.png" width="60%" alt="AStar_manhattan">
</div></p>

<h3 id="ç»“æœåˆ†æ-1">ç»“æœåˆ†æ</h3>

<h4 id="ä¸åŒæ–¹æ³•æ¯”è¾ƒ">ä¸åŒæ–¹æ³•æ¯”è¾ƒ</h4>

<p><code>IDS</code>, <code>Greedy</code>ä¸<code>A*</code>ç®—æ³•è¡¨ç°å‡ºäº†æˆªç„¶ä¸åŒçš„æ€§èƒ½ã€‚<code>IDS</code>çš„æ‰§è¡Œæƒ…å†µéå¸¸ä¸ç†æƒ³ï¼Œå…¶ä½™äºŒè€…çš„ç®—æ³•è¡¨ç°éƒ½ä»¤äººç›¸å½“æ»¡æ„ã€‚ç»è¿‡å¤šæ¬¡çš„ç”Ÿæˆä»¥åŠæ‰§è¡Œï¼Œå‘ç°<code>Greedy</code>ä¸<code>A*</code>ç›¸å¯¹ç¨³å®šï¼ŒåŸºæœ¬ä¸Šå¯ä»¥ä¿æŒè¿™ä¸ªå¹³å‡ç”¨æ—¶å¾—åˆ°è§£è·¯å¾„ï¼›ä½†æ˜¯<code>IDS</code>ç»å¸¸æ€§å‡ºç°æ‰§è¡Œæ—¶é—´æ˜æ˜¾è¿‡ä¹…ã€‚</p>

<h4 id="ä¸åŒå¯å‘å¼å‡½æ•°æ¯”è¾ƒ">ä¸åŒå¯å‘å¼å‡½æ•°æ¯”è¾ƒ</h4>

<p>æœ¬æ¬¡å®éªŒç”¨äº†ä¸¤ä¸ªå¯å‘å¼å‡½æ•°ï¼Œåˆ†åˆ«æ˜¯ <code>wrongPlace</code>ï¼ˆæ‘†æ”¾ä½ç½®é”™ä½çš„æ•°å­—ä¸ªæ•°ï¼‰ã€<code>distance_manhattan</code>ï¼ˆæ›¼å“ˆé¡¿è·ç¦»ï¼Œè®¡ç®—å…ƒç´ å½“å‰ä½ç½®åˆ°ç›®æ ‡ä½ç½®çš„æ›¼å“ˆé¡¿è·ç¦»ä¹‹å’Œï¼‰ã€‚åˆ†æå¯çŸ¥ï¼Œæ›¼å“ˆé¡¿è·ç¦»çš„åº¦é‡åŒ…å«äº†é”™è¯¯æ‘†æ”¾åº¦é‡çš„ç»“æœã€‚å› æ­¤ï¼Œä½¿ç”¨æ›¼å“ˆé¡¿è·ç¦»çš„ç®—æ³•è¡¨ç°åº”è¯¥ç›¸å¯¹è¾ƒå¥½ã€‚å®éªŒä¹Ÿè¯å®äº†è¿™ä¸€ç‚¹ï¼Œåœ¨<code>Greedy</code>ç®—æ³•ä¸­ï¼Œ<code>distance_manhattan</code>æ¯”<code>wrongPlace</code>æ‰§è¡Œå¿«çº¦7å€ï¼›åœ¨<code>A*</code>ç®—æ³•ä¸­ï¼Œ<code>distance_manhattan</code>æ¯”<code>wrongPlace</code>æ‰§è¡Œå¿«çº¦3å€ã€‚</p>

<h2 id="æ€»ç»“">æ€»ç»“</h2>

<p>ç»è¿‡æœ¬æ¬¡å®éªŒï¼Œæˆ‘å¯¹ç»å…¸çš„æœç´¢ç®—æ³•æœ‰äº†æ·±åˆ»çš„è®¤è¯†ï¼Œåœ¨ç¼–å†™Solutionä»£ç çš„æ—¶å€™ï¼Œé€šè¿‡æŠ½å–å…¬ç”¨ä»£ç ï¼Œæå¤§ç®€åŒ–äº†ä»£ç å¹¶é™ä½äº†æœ€ç»ˆçš„ä»£ç é‡ã€‚é€šè¿‡å¯¹æ¯”ä¸¤ä¸ªå¯å‘å¼å‡½æ•°ï¼Œç†è§£äº†ä¸€ä¸ªâ€œå¥½çš„â€å¯å‘å¼å‡½æ•°å¯¹é—®é¢˜æ±‚è§£çš„é‡è¦æ€§ã€‚</p>

<p><strong><a href="https://github.com/XFeiF/PRML-AIMA_Practice/tree/master/AIMA/8_puzzle_solution">source code-&gt;github</a></strong></p>

<div class="footnotes"><ol>  
    <li class="footnote" id="fn:1">
        <p><a href="https://github.com/XFeiF/PRML-AIMA_Practice/tree/master/AIMA/8_puzzle_solution">Source Code.  If you like it, please give a star!</a> <a href="#fnref:1" title="Source Code"> </a><p>
    </li>
</ol></div>

<script type="text/javascript">
    $.bigfoot();
</script>
<script type="text/javascript">
    var bigfoot = $.bigfoot({
        deleteOnUnhover: false,
        preventPageScroll: false,
        hoverDelay: 250,
    });
</script>
                        </div>
                    </div>
                    
                    <div class="post-tags">
                        <span># Tags: </span>
                            
                                <a class="badge badge-primary" href="/tags/algorithm">algorithm</a>
                            
                    </div>
                    
                    <nav class="post-related">
                            

    <a rel="prev" id="prev-btn" class="btn hvr-grow" href="/posts/rethinkingimagenetpretraining/"> &laquo; Paper Notes[1]: Rethinking ImageNet Pre-training</a>


    <a rel="next" id="next-btn" class="btn hvr-grow" href="/posts/argmax-function-and-its-usage/">axis and argmax function &raquo;</a>


                    </nav>
                    <footer class="comments">
                        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "xfeif" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
                    </footer>
                </div>
            </div>

        </article>
    </div>
    <a id="rocket" href="#top" class=""></a>
<script type="text/javascript" src="https://blog.x-fei.me/js/totop.js"></script>
<footer id="footer" class='site-footer'>
    
    <section class="footer">
    
       ğŸ“<a href="https://blog.x-fei.me">XFeiF</a> Â© 2015-2019 <i class="fa fa-heart" aria-hidden="true"></i>
    
    </section>
    <section>
        Theme Fx <a href="https://github.com/XFeiF" class="github-repo"><span class="gadget-github"></span>Star</a>
        Designed By <a href="https://github.com/XFeiF">@XFeiF</a>
    </section>
    <section class="poweredby">
        Powered by <a href="http://www.gohugo.io/">Hugo</a>
    </section>
</footer>

</body>
</html>
